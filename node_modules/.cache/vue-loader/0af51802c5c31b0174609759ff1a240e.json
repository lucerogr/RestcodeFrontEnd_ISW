{"remainingRequest":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/src/components/appointments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/src/components/appointments.vue","mtime":1606402293000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcHBvaW50bWVudFNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvYXBwb2ludG1lbnRzLXNlcnZpY2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFwcG9pbnRtZW50cyIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICAgIGhlYWRlcnM6IFsKICAgICAgICB7dGV4dDogJ0lkJywgdmFsdWU6ICdpZCd9LAogICAgICAgIHt0ZXh0OiAnRmVjaGEgeSBob3JhIGFjdHVhbCcsIHZhbHVlOiAnY3VycmVudERhdGVUaW1lJ30sCiAgICAgICAge3RleHQ6ICdGZWNoYSB5IGhvcmEgcGFyYSBsYSBjaXRhJywgdmFsdWU6ICdzY2hlZHVsZURhdGVUaW1lJ30sCiAgICAgICAge3RleHQ6ICdUZW1hJywgdmFsdWU6ICd0b3BpYyd9LAogICAgICAgIHt0ZXh0OiAnTGluayBkZSBsYSByZXVuacOzbicsIHZhbHVlOiAnbWVldExpbmsnfSwKICAgICAgICB7dGV4dDogJ0lEIER1ZcOxbyBkZSBSZXN0YXVyYW50ZScsIHZhbHVlOiAnb3duZXJJZCd9LAogICAgICAgIHt0ZXh0OiAnSUQgQ29uc3VsdG9yJywgdmFsdWU6ICdjb25zdWx0YW50SWQnfSwKICAgICAgICB7dGV4dDogJ0FjY2lvbmVzJywgdmFsdWU6ICdhY3Rpb25zJywgc29ydGFibGU6IGZhbHNlfQogICAgICBdLAogICAgICBhcHBvaW50bWVudHM6IFtdLAogICAgICBkaXNwbGF5QXBwb2ludG1lbnRzOiBbXSwKICAgICAgZWRpdGVkSW5kZXg6IC0xLAogICAgICBlZGl0ZWRJdGVtOiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgY3VycmVudERhdGVUaW1lOiBudWxsLAogICAgICAgIHNjaGVkdWxlRGF0ZVRpbWU6IG51bGwsCiAgICAgICAgdG9waWM6ICcnLAogICAgICAgIG1lZXRMaW5rOiAnJywKICAgICAgICBvd25lcklkOiAwLAogICAgICAgIGNvbnN1bHRhbnRJZDogMAogICAgICB9LAogICAgICBkZWZhdWx0SXRlbTogewogICAgICAgIGlkOiAwLAogICAgICAgIGN1cnJlbnREYXRlVGltZTogbnVsbCwKICAgICAgICBzY2hlZHVsZURhdGVUaW1lOiBudWxsLAogICAgICAgIHRvcGljOiAnJywKICAgICAgICBtZWV0TGluazogJycsCiAgICAgICAgb3duZXJJZDogMCwKICAgICAgICBjb25zdWx0YW50SWQ6IDAKICAgICAgfSwKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkaWFsb2dEZWxldGUodmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlRGVsZXRlKCkKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICByZXRyaWV2ZUFwcG9pbnRtZW50cygpIHsKICAgICAgQXBwb2ludG1lbnRTZXJ2aWNlLmdldEFsbCgpCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuYXBwb2ludG1lbnRzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgdGhpcy5kaXNwbGF5QXBwb2ludG1lbnRzID0gcmVzcG9uc2UuZGF0YS5tYXAodGhpcy5nZXREaXNwbGF5QXBwb2ludG1lbnQpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgIH0pOwogICAgfSwKICAgIGdldERpc3BsYXlBcHBvaW50bWVudChhcHBvaW50bWVudCkgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiBhcHBvaW50bWVudC5pZCwKICAgICAgICBjdXJyZW50RGF0ZVRpbWU6IGFwcG9pbnRtZW50LmN1cnJlbnREYXRlVGltZSwKICAgICAgICBzY2hlZHVsZURhdGVUaW1lOiBhcHBvaW50bWVudC5zY2hlZHVsZURhdGVUaW1lLAogICAgICAgIHRvcGljOiBhcHBvaW50bWVudC50b3BpYywKICAgICAgICBtZWV0TGluazogYXBwb2ludG1lbnQubWVldExpbmssCiAgICAgICAgb3duZXJJZDogYXBwb2ludG1lbnQub3duZXJJZCwKICAgICAgICBjb25zdWx0YW50SWQ6IGFwcG9pbnRtZW50LmNvbnN1bHRhbnRJZAogICAgICB9OwogICAgfSwKICAgIHJlZnJlc2hMaXN0KCkgewogICAgICB0aGlzLnJldHJpZXZlQXBwb2ludG1lbnRzKCk7CiAgICB9LAogICAgcmVtb3ZlQWxsQXBwb2ludG1lbnRzKCkgewogICAgICBBcHBvaW50bWVudFNlcnZpY2UuZGVsZXRlQWxsKCkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5yZWZyZXNoTGlzdCgpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBhbGVydCgiRWwgQmFja2VuZCBubyBzb3BvcnRhIGVzdGEgb3BlcmFjacOzbi4iKTsKICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICB9KTsKICAgIH0sCiAgICBjbG9zZURlbGV0ZSgpIHsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSkKICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTEKICAgICAgfSkKICAgIH0sCiAgICBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuZGlzcGxheUFwcG9pbnRtZW50cy5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmFwcG9pbnRtZW50c1t0aGlzLmVkaXRlZEluZGV4XSk7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgdGhpcy5kZWxldGVBcHBvaW50bWVudCh0aGlzLmVkaXRlZEl0ZW0uaWQpOwogICAgICB0aGlzLmFwcG9pbnRtZW50cy5zcGxpY2UodGhpcy5lZGl0ZWRJbmRleCwgMSk7CiAgICAgIHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0sCiAgICBkZWxldGVBcHBvaW50bWVudChpZCkgewogICAgICBBcHBvaW50bWVudFNlcnZpY2UuZGVsZXRlKGlkKQogICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLnJlZnJlc2hMaXN0KCk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgfSk7CiAgICB9LAogICAgbmF2aWdhdGVUb0FkZEFwcG9pbnRtZW50KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ2FkZC1hcHBvaW50bWVudCd9KTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnJldHJpZXZlQXBwb2ludG1lbnRzKCk7CiAgfQp9Cg=="},{"version":3,"sources":["appointments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"appointments.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>\n      Citas\n      <v-spacer></v-spacer>\n    </v-card-title>\n    <v-card-text>\n      <v-data-table :headers=\"headers\" :items=\"displayAppointments\" :items-per-page=\"5\"\n                    class=\"elevation-1\" ref=\"appointmentsTable\">\n        <template v-slot:[`item.actions`]=\"{ item }\">\n          <v-icon small @click=\"deleteItem(item)\">mdi-delete</v-icon>\n        </template>\n        <template v-slot:top>\n          <v-dialog  max-width=\"500px\">\n            <v-card>\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field v-model=\"editedItem.id\" label=\"Id\"></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field v-model=\"editedItem.currentDateTime\" label=\"Fecha y hora actual\"></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field v-model=\"editedItem.scheduleDateTime\" label=\"Fecha y hora para la cita\"></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field v-model=\"editedItem.topic\" label=\"Tema\"></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field v-model=\"editedItem.meetLink\" label=\"Link de la reunión\"></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field v-model=\"editedItem.ownerId\" label=\"ID Dueño de Restaurante\"></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field v-model=\"editedItem.consultantId\" label=\"ID Consultor\"></v-text-field>\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-card-text>\n            </v-card>\n          </v-dialog>\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"headline\">Eliminar cita</v-card-title>\n              <v-card-text>\n                <p>¿Estas seguro que quieres eliminar la cita?<b>{{ editedItem.title }}</b></p>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">Cancelar</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">OK</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </template>\n      </v-data-table>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn small color=\"primary\" @click=\"navigateToAddAppointment\">Pedir una cita</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport AppointmentService from '../services/appointments-service';\nexport default {\n  name: \"appointments\",\n  data() {\n    return {\n      dialogDelete: false,\n      headers: [\n        {text: 'Id', value: 'id'},\n        {text: 'Fecha y hora actual', value: 'currentDateTime'},\n        {text: 'Fecha y hora para la cita', value: 'scheduleDateTime'},\n        {text: 'Tema', value: 'topic'},\n        {text: 'Link de la reunión', value: 'meetLink'},\n        {text: 'ID Dueño de Restaurante', value: 'ownerId'},\n        {text: 'ID Consultor', value: 'consultantId'},\n        {text: 'Acciones', value: 'actions', sortable: false}\n      ],\n      appointments: [],\n      displayAppointments: [],\n      editedIndex: -1,\n      editedItem: {\n        id: 0,\n        currentDateTime: null,\n        scheduleDateTime: null,\n        topic: '',\n        meetLink: '',\n        ownerId: 0,\n        consultantId: 0\n      },\n      defaultItem: {\n        id: 0,\n        currentDateTime: null,\n        scheduleDateTime: null,\n        topic: '',\n        meetLink: '',\n        ownerId: 0,\n        consultantId: 0\n      },\n    }\n  },\n  watch: {\n    dialogDelete(val) {\n      val || this.closeDelete()\n    },\n  },\n  methods: {\n    retrieveAppointments() {\n      AppointmentService.getAll()\n          .then(response => {\n            this.appointments = response.data;\n            this.displayAppointments = response.data.map(this.getDisplayAppointment);\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n    },\n    getDisplayAppointment(appointment) {\n      return {\n        id: appointment.id,\n        currentDateTime: appointment.currentDateTime,\n        scheduleDateTime: appointment.scheduleDateTime,\n        topic: appointment.topic,\n        meetLink: appointment.meetLink,\n        ownerId: appointment.ownerId,\n        consultantId: appointment.consultantId\n      };\n    },\n    refreshList() {\n      this.retrieveAppointments();\n    },\n    removeAllAppointments() {\n      AppointmentService.deleteAll()\n          .then(() => {\n            this.refreshList();\n          })\n          .catch((e) => {\n            alert(\"El Backend no soporta esta operación.\");\n            console.log(e);\n          });\n    },\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n    deleteItem(item) {\n      this.editedIndex = this.displayAppointments.indexOf(item);\n      this.editedItem = Object.assign({}, this.appointments[this.editedIndex]);\n      this.dialogDelete = true;\n    },\n    deleteItemConfirm() {\n      this.deleteAppointment(this.editedItem.id);\n      this.appointments.splice(this.editedIndex, 1);\n      this.closeDelete();\n    },\n    deleteAppointment(id) {\n      AppointmentService.delete(id)\n          .then(() => {\n            this.refreshList();\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n    },\n    navigateToAddAppointment() {\n      this.$router.push({name: 'add-appointment'});\n    }\n  },\n  mounted() {\n    this.retrieveAppointments();\n  }\n}\n</script>\n\n<style scoped>\n</style>"]}]}