{"remainingRequest":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/src/components/sign-in.vue?vue&type=style&index=0&id=691b5d4e&scoped=true&lang=css&","dependencies":[{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/src/components/sign-in.vue","mtime":1606402293000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nuevo/Documents/all/5th/APP WEB/APPLICACIONES-WEB/RestCodeFrontEnd_WebApplication-develop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5saW5rIHsKICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0K"},{"version":3,"sources":["sign-in.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA","file":"sign-in.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>\n      Iniciar Sesión\n    </v-card-title>\n    <v-card-list></v-card-list>\n    <v-card-text>\n      <v-form v-model=\"isValid\">\n        <v-text-field\n            label=\"E-mail\"\n            v-model=\"email\"\n            :rules=\"[v => !!v || 'Se requiere su E-mail']\"\n            required>\n        </v-text-field>\n        <v-text-field\n            label=\"Password\"\n            v-model=\"password\"\n            type=\"password\"\n            :rules=\"[v => !!v || 'Se requiere su contraseña']\"\n            required>\n        </v-text-field>\n      </v-form>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n          color=\"primary\"\n          :disabled=\"!isValid\"\n          @click=\"login\"\n      >Login</v-btn>\n    </v-card-actions>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-row>\n          <v-col cols=\"4\"></v-col>\n          <v-col cols=\"4\">\n            <v-text class=\"link\" @click=\"navigateToSignUp\">¿Aún no tienes una cuenta? ¡Regístrate! {{ test }}</v-text>\n          </v-col>\n          <v-col cols=\"4\"></v-col>\n        </v-row>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\nimport OwnersService from \"@/services/owners-service\";\nimport ConsultantsService from \"@/services/consultants-service\";\nexport default {\n  name: \"sign-in\",\n  data() {\n    return {\n      email: null,\n      password: null,\n      isValid: true,\n      found: false,\n      owners: [],\n      test: '',\n      consultants: []\n    }\n  },\n  methods: {\n    navigateToSignUp() {\n      this.$router.push ({name: 'sign-up'});\n    },\n    retrieveOwners() {\n      OwnersService.getAllOwners()\n          .then(response => {\n            this.owners = response.data;\n            if (this.owners.some(item => item.email === this.email && item.password === this.password)) {\n              this.navigateToHomeOwner();\n            }\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n    },\n    getDisplayOwner(owner) {\n      return {\n        email: owner.email,\n        password: owner.password\n      };\n    },\n    retrieveConsultants() {\n      ConsultantsService.getAllConsultants()\n          .then(response => {\n            this.consultants = response.data;\n            if (this.consultants.some(item => item.email === this.email && item.password === this.password)) {\n              this.found = true;\n              this.navigateToHomeConsultant();\n            }\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n    },\n    login() {\n      this.retrieveConsultants();\n      if (!this.found) {\n        this.retrieveOwners();\n      }\n    },\n    navigateToHomeOwner() {\n      this.$router.push ({name: 'home-owner'});\n    },\n    navigateToHomeConsultant() {\n      this.$router.push ({name: 'home-consultant'});\n    },\n  }\n}\n</script>\n\n<style scoped>\n.link {\n  text-decoration: underline;\n  cursor: pointer;\n}\n</style>"]}]}